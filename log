{
    "status": 0,
    "errors": [
        {
            "errorCode": "1002",
            "errorMessage": "101 is invalid. Reason : contains leading or trailing spaces. Please provide a valid value."
        }
    ]
}

package com.epay.admin.validator;

import com.epay.admin.model.request.GatewayConfigDetailsRequestDto;
import com.epay.admin.util.ErrorConstants;
import org.apache.commons.lang3.EnumUtils;
import org.apache.commons.lang3.StringUtils;
import org.springframework.stereotype.Component;

import java.text.MessageFormat;
import java.util.ArrayList;

@Component
public class GatewayConfigDetailsValidator  extends  BaseValidator{

    public void validateGetGatewayConfigDetailsRequest(GatewayConfigDetailsRequestDto request) {
        errorDtoList = new ArrayList<>();
        validateMandatoryFields(request);
        validateFieldValues(request);
        validateLeadingTrailingSpaces(request.getAggGtwMapId(),request.getMID());
    }

    private void validateMandatoryFields(GatewayConfigDetailsRequestDto requestDto) {
        checkMandatoryField(requestDto.getMID(), "mID");
        checkMandatoryField(requestDto.getAggGtwMapId(), "aggGtwMapId");
        throwIfErrors();
    }

    private void  validateFieldValues(GatewayConfigDetailsRequestDto requestDto) {
        validateFieldWithRegex(requestDto.getMID().trim(), "^[0-9]+$", "mId", MessageFormat.format(ErrorConstants.INVALID_ERROR_MESSAGE, "mId", "Special characters or alpha numeric not allowed"));
        validateFieldWithRegex(requestDto.getAggGtwMapId().trim(), "^[0-9]+$", "aggGtwMapId", MessageFormat.format(ErrorConstants.INVALID_ERROR_MESSAGE, "aggGtwMapId", "Special characters or alpha numeric not allowed"));
        throwIfErrors();
    }

    /**
     * Validating given field value starts or ends with space
     * @param fieldName String
     * @param fieldValue String
     */
    private void validateLeadingTrailingSpaces(String fieldName, String fieldValue) {
        if (StringUtils.startsWith(fieldValue, " ") || StringUtils.endsWith(fieldValue, " ")) {
            addError(ErrorConstants.INVALID_ERROR_CODE, MessageFormat.format(ErrorConstants.INVALID_ERROR_MESSAGE, fieldName,"contains leading or trailing spaces. Please provide a valid value."));
        }
        throwIfErrors();
    }
}
